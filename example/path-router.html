<html>
<head>
<title>PathRouter Example</title>
<script src="../dist/index.js"></script>
</head>
<body>

<p><b>Note:</b> this example doesn't work with file protocol. Serve this page with an http server.</p>

<p>
  State JSON:<br>
  <textarea id="stateJsonInput"></textarea><br>
  <button id="navigateButton">Navigate</button>
</p>

<h1>Logs</h1>
<div id="log"></div>

<script>
  var router = new StateEncodeRouter.PathRouter({ basePath: window.location.pathname + '/' }).addNavigationListener(function (state) {
    var p = document.createElement('p');
    p.innerText = 'Navigation:\nPath: ' + window.location.pathname + '\nState: ' + JSON.stringify(state);
    document.getElementById('log').appendChild(p);
  }).start();

  document.getElementById('navigateButton').addEventListener('click', function (e) {
    router.navigate(JSON.parse(document.getElementById('stateJsonInput').value || '{}'));
  });
</script>

</body>
</html>
